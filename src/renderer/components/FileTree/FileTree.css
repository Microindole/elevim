/* src/renderer/components/FileTree/FileTree.css */

/* 文件树根节点容器，添加一些内边距 */
.file-tree-root {
    padding: 0 10px;
    font-size: 14px; /* 为整个树设置基础字号 */
}

/* 单个树节点 (文件或文件夹) */
.tree-node {
    /* 可以在这里添加节点的通用样式，如果需要的话 */
}

/* 节点内容 (可点击部分) */
.node-content {
    display: flex;
    align-items: center;
    padding: 4px 8px; /* 增加垂直和水平间距 */
    border-radius: 4px;
    cursor: pointer;
    transition: background-color 0.1s ease-in-out;
    white-space: nowrap;
}
.node-content:hover {
    background-color: #2a2d2e;
}

.node-name {
    /* margin-left: 6px; */ /* 由 .icon 的 margin-right 替代 */
}

/* 展开/折叠的图标容器 */
.caret {
    width: 16px; /* 容器宽度 */
    height: 16px; /* 容器高度，确保垂直居中 */
    text-align: center;
    flex-shrink: 0;

    /* 为 ::before 伪元素定位 */
    position: relative;
    color: #c5c5c5; /* 箭头颜色 (VS Code 风格) */
}

/* 使用 ::before 绘制一个 > 形状的箭头 */
.caret::before {
    content: '';
    display: block;
    box-sizing: border-box;

    /* 箭头的大小 (6x6的区域) */
    width: 6px;
    height: 6px;

    /* * 使用边框绘制 "L" 形。
     * > 的粗细 2px
     */
    border-bottom: 2px solid currentColor;
    border-right: 2px solid currentColor;

    /* * 1. 定位到父容器(16x16)的中心
     * (16px - 6px) / 2 = 5px
     */
    position: absolute;
    top: 5px;
    left: 5px;

    /* * 2. 将 "L" 形旋转 -45 度，它就变成了 ">"
     */
    transform: rotate(-45deg);

    /* 3. 添加动画效果 */
    transition: transform 0.1s linear;
}

/* 展开状态 */
.caret.caret-open::before {
    /* * 当展开时，我们把箭头旋转 90 度
     * (-45deg + 90deg = 45deg)
     * "L" 形旋转 45 度后，就变成了 "v"
     */
    transform: rotate(45deg);
}

/* 鼠标悬停时，让箭头更亮 */
.node-content:hover .caret {
    color: #ffffff;
}

/* 图标占位符 (用于文件，保持对齐) */
.caret-placeholder {
    display: inline-block;
    width: 16px;
    height: 16px;
    flex-shrink: 0;
}

.node-content:hover .caret {
    color: #ffffff;
}

/* 文件/文件夹图标容器 */
.icon {
    display: flex;
    align-items: center;
    justify-content: center;
    color: #cccccc;
    width: 20px; /* 给图标容器一个固定宽度 */
    flex-shrink: 0;
    margin-right: 4px; /* 图标和文字的间距 */
}

/* 设置 <img> 图标的大小 */
.icon .file-icon {
    width: 16px;
    height: 16px;
    object-fit: contain;
}


/* 子节点容器 (实现缩进和参考线的关键) */
.node-children {
    padding-left: 8px;
    position: relative; /* 为 ::before 伪元素定位 */
}

/* 缩进参考线 */
.node-children::before {
    content: '';
    position: absolute;
    left: 16px;
    top: 0;
    bottom: 0;
    width: 1px;
    background-color: #444; /* 参考线颜色 */
    opacity: 0;
    transition: opacity 0.1s linear;
}

/*
 * 行为 1: 鼠标离开时，仅显示 active 文件的层级参考线
 * (JS 逻辑不变)
 */
.node-children.active-ancestor::before {
    opacity: 1;
}

/*
 * 行为 2: 鼠标悬停在整个文件树上时，显示所有参考线
 */
.file-tree-root:hover .node-children::before {
    opacity: 1;
}

/* (可选) 悬停时，让 active 路径更高亮 */
.file-tree-root:hover .node-children.active-ancestor::before {
    background-color: #777; /* 更亮的颜色 */
}

/* Staged changes (usually more prominent) */
.node-name.git-modified { /* Staged Modified */
    color: #E2C08D; /* VS Code 风格 - 修改 (黄色) */
}
.node-name.git-modified::after { content: " M"; font-size: 0.9em; opacity: 0.8; }

.node-name.git-added { /* Staged Added */
    color: #81b88b; /* VS Code 风格 - 新增 (绿色) */
}
.node-name.git-added::after { content: " A"; font-size: 0.9em; opacity: 0.8; }

.node-name.git-deleted { /* Staged Deleted */
    color: #c74e39; /* VS Code 风格 - 删除 (红色)，并加删除线 */
    text-decoration: line-through;
}
.node-name.git-deleted::after { content: " D"; font-size: 0.9em; opacity: 0.8; }

/* Working directory changes (maybe less prominent or different color) */
.node-name.git-wd-modified { /* Unstaged Modified */
    color: #E2C08D;
}
.node-name.git-wd-modified::after { content: " M"; font-size: 0.9em; opacity: 0.7; color: #73c991; }

.node-name.git-wd-deleted { /* Unstaged Deleted */
    color: #f17c67;
    text-decoration: line-through;
}
.node-name.git-wd-deleted::after { content: " D"; font-size: 0.9em; opacity: 0.7; color: #f17c67; }

/* Untracked */
.node-name.git-untracked {
    color: #81b88b;
}
.node-name.git-untracked::after { content: " U"; font-size: 0.9em; opacity: 0.8; }

/* Conflicted (if you implement it later) */
.node-name.git-conflicted {
    color: #e47c74;
}
.node-name.git-conflicted::after { content: " C"; font-size: 0.9em; opacity: 0.8; }